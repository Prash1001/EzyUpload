<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - EasyUpload</title>
    <link  rel="stylesheet" href="background.css">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
        }

        .container {
            width: 80%;
            margin: auto;
            padding: 20px;
        }

        .header {
            background-color: #4CAF50;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .upload-form {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
        }

        .upload-form input[type="file"] {
            margin-bottom: 20px;
        }

        .upload-form input[type="submit"] {
            background-color: #4CAF50;
            color: #ffffff;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .upload-form input[type="submit"]:hover {
            background-color: #45a049;
        }

        .footer {
            background-color: #f5f5f5;
            color: #ffffff;
            text-align: center;
            padding: 20px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
            body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
            background-image: url('./6417742.jpg');
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
 

        .container {
            width: 80%;
            margin: auto;
            padding: 20px;
        }

        .header {
            background-color: #4CAF50;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .upload-form {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.1);
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .info-box {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .info-box h2 {
            color: #4CAF50;
        }

        .info-box p {
            color: #555;
        }


        .footer {
            background-color: #333;
            color: #ffffff;
            text-align: center;
            padding: 20px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }



        .header {
    background-color: #4CAF50;
    color: #ffffff;
    padding: 20px;
    text-align: center;
    margin-bottom: 20px;
    border-radius: 8px; /* Add border radius for a softer look */
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Add a subtle shadow for depth */
}

.header h1 {
    margin: 0; /* Remove default margin for the h1 element */
    font-size: 2em; /* Increase font size for better emphasis */
}

.header p {
    margin-top: 10px; /* Add some spacing between the heading and paragraph */
    font-size: 1.2em; /* Increase font size for better readability */
}


.info-box {
    background-color: #ffffff;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    max-width: 900px; /* Set a maximum width to limit the width of the info boxes */
    margin-left: auto; /* Center the info boxes horizontally */
    margin-right: auto;
}

.info-box h2 {
    color: #4CAF50;
}

.info-box p {
    color: #555;
}

.header {
    background-color: #4CAF50;
    color: #ffffff;
    padding: 20px;
    text-align: center;
    margin: auto; /* Center the header horizontally */
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 600px; /* Set a maximum width for the header */
}

.header {
    background-color: #4CAF50;
    color: #ffffff;
    padding: 20px;
    text-align: center;
    margin: auto; /* Center the header horizontally */
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 900px; /* Set a maximum width for the header */
}


.upload-form {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.1);
    padding: 20px;
    text-align: center;
    margin-bottom: 20px;
    width: 900px; /* Set the width to 900px */
    margin: auto; /* Center the box horizontally */
}


ul {
    list-style-type: none; /* Remove bullet points from the list */
    margin: 0; /* Remove default margin */
    padding: 0; /* Remove default padding */
    background-color: #333; /* Set background color */
    overflow: hidden; /* Ensure content does not overflow */
}

li {
    float: left; /* Float the list items horizontally */
}

li a {
    display: block; /* Make the links display as block elements */
    color: white; /* Set text color */
    text-align: center; /* Center align text */
    padding: 14px 16px; /* Add padding */
    text-decoration: none; /* Remove underline from links */
}

li a:hover {
    background-color: #4CAF50; /* Change background color on hover */
}

.active {
    background-color: #4CAF50; /* Set background color for active link */
}



    </style>
</head>
<body>
    <ul>
        <li id="logo"><a href="./index.html">EasyUpload</a></li>
        <li><a class="active" href="./index.html">Upload</a></li>
        <li><a href="./Receiver.html">Retrieve</a></li>
        <li><a href="./Sign.html">Sign in</a></li>
      </ul>
    <div class="container">
        <div class="header">
            <h1>Welcome to EasyUpload</h1>
            <p>Upload your files easily</p>
        </div>

        <div class="upload-form">
            <form id="file-upload-form">
                <input type="file" name="file" id="file" accept="image/*, .pdf, .doc, .docx">
                <br>
                <input type="submit" value="Upload">
            </form>
            <div id="file-link-container" style="display: none;">
                <p>Your file has been uploaded successfully!</p>
                <p>Use this code to retrieve your file: <span id="file-link"></span></p>
            </div>
        </div>
    </div>

    <div class="info-box">
        <h2>About EasyUpload</h2>
        <p>EasyUpload is a simple and efficient file upload and retrieval system designed to make sharing files hassle-free. With EasyUpload, you can securely upload various file types, including images, PDFs, and documents, and retrieve them using unique access codes.</p>
    </div>

    

    <div class="info-box">
        <h2>How It Works</h2>
        <p><strong>Upload:</strong> Simply select the file you want to upload, and EasyUpload will generate a unique access code for you.</p>
        <p><strong>Retrieve:</strong> To retrieve your file, enter the unique access code provided during the upload process, and EasyUpload will fetch your file securely.</p>
    </div>
</div>


    <!-- Include Firebase SDK scripts from Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>
    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBX-biPQullJve__X-WHwwzw6oxsiA7tMk",
            authDomain: "ezyupload-da972.firebaseapp.com",
            projectId: "ezyupload-da972",
            storageBucket: "ezyupload-da972.appspot.com",
            messagingSenderId: "563462109953",
            appId: "1:563462109953:web:038176fad3659884a0f900",
            
        };
        firebase.initializeApp(firebaseConfig);

        const storage = firebase.storage();
        const fileUploadForm = document.getElementById('file-upload-form');
        const fileLinkContainer = document.getElementById('file-link-container');
        const fileLinkElement = document.getElementById('file-link');

        fileUploadForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const fileInput = document.getElementById('file').files[0];

            // Generate a unique ID of 5 characters
            const fileId = generateSequentialKey(5);

            // Use the generated ID to construct the file name
            const fileName = `${fileId}_${fileInput.name}`;

            const storageRef = storage.ref(`uploads/${fileName}`);
            const uploadTask = storageRef.put(fileInput);

            uploadTask.on('state_changed',
                (snapshot) => {
                    // Handle progress updates if needed
                },
                (error) => {
                    // Handle unsuccessful uploads
                    console.error('Upload error:', error);
                },
                () => {
                    // Handle successful uploads
                    console.log('Upload successful');
                    // Display the file link container with the generated fileId
                    fileLinkContainer.style.display = 'block';
                    fileLinkElement.textContent = fileId;
                }
            );
        });

        // Function to generate a sequential key with specified length
        function generateSequentialKey(length) {
            var key = '';
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            for (var i = 0; i < length; i++) {
                key += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return key;
        }
    </script>
</body>
</html>
